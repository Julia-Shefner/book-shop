import{S as f,N as y,P as I,K as C,i as k,A as O}from"./assets/vendor-BOicE9ou.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const S="https://books-backend.p.goit.global/books",V=document.getElementById("booksList"),x=document.getElementById("showMoreBtn"),N=document.getElementById("booksCount"),m=document.getElementById("categorySelect"),u=document.getElementById("categoriesList");let b=[],c=[],a=0;function F(){return window.innerWidth>=768?24:10}function H(){return 4}async function U(){try{const e=await fetch(`${S}/top-books`);if(!e.ok)throw new Error("Failed to load books");const t=await e.json();b=t.flatMap(i=>i.books.map(o=>({...o,category:i.list_name}))),c=[...b];const s=[...new Set(t.map(i=>i.list_name))];_(s),a=0,g()}catch(e){console.error("Error loading books:",e)}}function _(e){if(m&&(m.innerHTML='<option value="">All Categories</option>',m.innerHTML+=e.map(t=>`<option value="${t}">${t}</option>`).join("")),u&&(u.innerHTML=e.map(t=>`<li data-category="${t}">${t}</li>`).join(""),!u.querySelector('[data-category="all"]'))){const t=document.createElement("li");t.classList.add("category-item"),t.dataset.category="all",t.textContent="All categories",u.prepend(t)}}function g(){const e=F(),t=H(),s=a===0?e:a+t,i=c.slice(0,s);V.innerHTML=i.map(o=>`
      <li class="book-card">
        <img class="book-image" src="${o.book_image}" alt="${o.title}" />
        <div class="book-info">
          <div>
            <h3 class="book-title">${o.title}</h3>
            <p class="book-author">${o.author}</p>
          </div>
          <p class="book-price">$${(Math.random()*90+10).toFixed(2)}</p>
        </div>
        <button class="learn-more-btn">Learn More</button>
      </li>`).join(""),a=i.length,N.textContent=`Showing ${a} of ${c.length}`,x.style.display=a<c.length?"block":"none"}x.addEventListener("click",g);function $(e){if(a=0,!e||e==="all"){c=[...b],g();return}z(e)}async function z(e){try{const t=await fetch(`${S}/category?category=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to load category books");c=await t.json(),g()}catch(t){console.error("Error loading category books:",t)}}m.addEventListener("change",e=>{$(e.target.value)});u.addEventListener("click",e=>{if(e.target.tagName==="LI"){const t=e.target.getAttribute("data-category");document.querySelectorAll(".categories-list li").forEach(s=>s.classList.remove("active")),e.target.classList.add("active"),$(t)}});U();let d;function q(){window.innerWidth<1440&&!d?d=new f(".events-swiper",{modules:[y,I,C],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24}}}):window.innerWidth>=1440&&d&&(d.destroy(!0,!0),d=null)}q();window.addEventListener("resize",q);new f(".feedback-swiper",{modules:[y,I,C],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const K=document.querySelector(".burger-js"),v=document.querySelector(".header-menu"),w=document.body,W=document.querySelector(".close-js"),D=document.querySelectorAll(".header-nav-link");K.addEventListener("click",R);function R(){v.classList.add("active"),w.classList.add("menu-open"),window.addEventListener("keydown",M)}W.addEventListener("click",P);function P(){v.classList.remove("active"),w.classList.remove("menu-open"),window.removeEventListener("keydown",M)}D.forEach(e=>{e.addEventListener("click",()=>{v.classList.remove("active"),w.classList.remove("menu-open")})});function M(e){(e.key==="Escape"||e.code==="Escape")&&P()}new f(".hero-slider",{modules:[y],slidesPerView:1,allowTouchMove:!0,loop:!1,navigation:{nextEl:".slider-button.next",prevEl:".slider-button.prev",disabledClass:"slider-button--disabled"},on:{init(){E(this)},slideChange(){E(this)}}});function E(e){const t=document.querySelector(".slider-button.prev"),s=document.querySelector(".slider-button.next");e.isBeginning?(t.disabled=!0,t.classList.add("slider-button--disabled")):(t.disabled=!1,t.classList.remove("slider-button--disabled")),e.isEnd?(s.disabled=!0,s.classList.add("slider-button--disabled")):(s.disabled=!1,s.classList.remove("slider-button--disabled"))}k.settings({position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"});new O(".js-accordion",{duration:300});const p=document.getElementById("modal-backdrop"),G=document.getElementById("close-modal"),J=document.getElementById("add-to-cart"),Q=document.getElementById("buy-now"),r=document.getElementById("quantity"),L=document.getElementById("increase"),B=document.getElementById("decrease");document.addEventListener("click",e=>{var t,s,i,o;if(e.target.classList.contains("learn-more-btn")){const n=e.target.closest(".book-card");if(n){const l=((t=n.querySelector(".book-image"))==null?void 0:t.src)||"",A=((s=n.querySelector(".book-title"))==null?void 0:s.textContent)||"Untitled",T=((i=n.querySelector(".book-author"))==null?void 0:i.textContent)||"Unknown",j=((o=n.querySelector(".book-price"))==null?void 0:o.textContent)||"$0.00";document.getElementById("book-image").src=l,document.getElementById("book-title").textContent=A,document.getElementById("book-author").textContent=T,document.getElementById("book-price").textContent=j,document.getElementById("details").textContent="This is a placeholder description for the book.",document.getElementById("shipping").textContent="Ships in 2‚Äì3 days.",document.getElementById("returns").textContent="30-day return policy.",p.classList.remove("is-hidden"),document.body.style.overflow="hidden"}}});function h(){p.classList.add("is-hidden"),document.body.style.overflow=""}G.addEventListener("click",h);p.addEventListener("click",e=>{e.target===p&&h()});document.addEventListener("keydown",e=>{e.key==="Escape"&&h()});L&&B&&r&&(L.addEventListener("click",()=>{r.value=parseInt(r.value)+1}),B.addEventListener("click",()=>{parseInt(r.value)>1&&(r.value=parseInt(r.value)-1)}));J.addEventListener("click",()=>{const e=r.value;k.show({message:`üìö –î–æ–¥–∞–Ω–æ ${e} –∫–Ω–∏–≥ —É –∫–æ—à–∏–∫`,backgroundColor:"#fff9e6",messageColor:"#000"})});Q.addEventListener("click",e=>{e.preventDefault(),k.show({message:"üìñ –î—è–∫—É—î–º–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!",backgroundColor:"#fff9e6",messageColor:"#000"})});
//# sourceMappingURL=index.js.map
