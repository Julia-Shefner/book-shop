import{a as I,S as b,N as v,P as x,K as q,i as k,A as D}from"./assets/vendor-4YDk74Kk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const $="https://books-backend.p.goit.global/books",K=document.getElementById("booksList"),M=document.getElementById("showMoreBtn"),U=document.getElementById("booksCount"),p=document.getElementById("categorySelect"),u=document.getElementById("categoriesList");let y=[],l=[],a=0;function W(){return window.innerWidth>=768?24:10}function F(){return 4}async function R(){try{const{data:e}=await I.get(`${$}/top-books`);y=e.flatMap(s=>s.books.map(r=>({...r,category:s.list_name}))),l=[...y];const t=[...new Set(e.map(s=>s.list_name))];G(t),a=0,f()}catch(e){console.error("Error loading books:",e)}}function G(e){if(p&&(p.innerHTML='<option value="">All Categories</option>',p.innerHTML+=e.map(t=>`<option value="${t}">${t}</option>`).join("")),u&&(u.innerHTML=e.map(t=>`<li data-category="${t}">${t}</li>`).join(""),!u.querySelector('[data-category="all"]'))){const t=document.createElement("li");t.classList.add("category-item"),t.dataset.category="all",t.textContent="All categories",u.prepend(t)}}function f(){const e=W(),t=F(),s=a===0?e:a+t,r=l.slice(0,s);K.innerHTML=r.map(o=>`
      <li class="book-card">
        <img class="book-image" src="${o.book_image}" alt="${o.title}" />
        <div class="book-info">
          <div>
            <h3 class="book-title">${o.title}</h3>
            <p class="book-author">${o.author}</p>
          </div>
          <p class="book-price">$${(Math.random()*90+10).toFixed(2)}</p>
        </div>
        <button class="learn-more-btn">Learn More</button>
      </li>`).join(""),a=r.length,U.textContent=`Showing ${a} of ${l.length}`,M.style.display=a<l.length?"block":"none"}M.addEventListener("click",f);function P(e){if(a=0,!e||e==="all"){l=[...y],f();return}J(e)}async function J(e){try{const{data:t}=await I.get(`${$}/category`,{params:{category:e}});l=t,f()}catch(t){console.error("Error loading category books:",t)}}p.addEventListener("change",e=>{P(e.target.value)});u.addEventListener("click",e=>{if(e.target.tagName==="LI"){const t=e.target.getAttribute("data-category");document.querySelectorAll(".categories-list li").forEach(s=>s.classList.remove("active")),e.target.classList.add("active"),P(t)}});R();let d;function A(){window.innerWidth<1440&&!d?d=new b(".events-swiper",{modules:[v,x,q],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24}}}):window.innerWidth>=1440&&d&&(d.destroy(!0,!0),d=null)}A();window.addEventListener("resize",A);new b(".feedback-swiper",{modules:[v,x,q],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const Q=document.querySelector(".burger-js"),E=document.querySelector(".header-menu"),w=document.body,X=document.querySelector(".close-js"),Y=document.querySelectorAll(".header-nav-link");Q.addEventListener("click",Z);function Z(){E.classList.add("active"),w.classList.add("menu-open"),window.addEventListener("keydown",O)}X.addEventListener("click",T);function T(){E.classList.remove("active"),w.classList.remove("menu-open"),window.removeEventListener("keydown",O)}Y.forEach(e=>{e.addEventListener("click",()=>{E.classList.remove("active"),w.classList.remove("menu-open")})});function O(e){(e.key==="Escape"||e.code==="Escape")&&T()}new b(".hero-slider",{modules:[v],slidesPerView:1,allowTouchMove:!0,loop:!1,navigation:{nextEl:".slider-button.next",prevEl:".slider-button.prev",disabledClass:"slider-button--disabled"},on:{init(){B(this)},slideChange(){B(this)}}});function B(e){const t=document.querySelector(".slider-button.prev"),s=document.querySelector(".slider-button.next");e.isBeginning?(t.disabled=!0,t.classList.add("slider-button--disabled")):(t.disabled=!1,t.classList.remove("slider-button--disabled")),e.isEnd?(s.disabled=!0,s.classList.add("slider-button--disabled")):(s.disabled=!1,s.classList.remove("slider-button--disabled"))}k.settings({position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"});new D(".js-accordion",{duration:300});const g=document.getElementById("modal-backdrop"),ee=document.getElementById("close-modal"),te=document.getElementById("add-to-cart"),oe=document.getElementById("buy-now"),c=document.getElementById("quantity"),C=document.getElementById("increase"),S=document.getElementById("decrease");document.addEventListener("click",e=>{var t,s,r,o;if(e.target.classList.contains("learn-more-btn")){const n=e.target.closest(".book-card");if(n){const i=((t=n.querySelector(".book-image"))==null?void 0:t.src)||"",H=((s=n.querySelector(".book-title"))==null?void 0:s.textContent)||"Untitled",_=((r=n.querySelector(".book-author"))==null?void 0:r.textContent)||"Unknown",z=((o=n.querySelector(".book-price"))==null?void 0:o.textContent)||"$0.00";document.getElementById("book-image").src=i,document.getElementById("book-title").textContent=H,document.getElementById("book-author").textContent=_,document.getElementById("book-price").textContent=z,document.getElementById("details").textContent="This is a placeholder description for the book.",document.getElementById("shipping").textContent="Ships in 2–3 days.",document.getElementById("returns").textContent="30-day return policy.",g.classList.remove("is-hidden"),document.body.style.overflow="hidden"}}});function L(){g.classList.add("is-hidden"),document.body.style.overflow=""}ee.addEventListener("click",L);g.addEventListener("click",e=>{e.target===g&&L()});document.addEventListener("keydown",e=>{e.key==="Escape"&&L()});C&&S&&c&&(C.addEventListener("click",()=>{c.value=parseInt(c.value)+1}),S.addEventListener("click",()=>{parseInt(c.value)>1&&(c.value=parseInt(c.value)-1)}));te.addEventListener("click",()=>{const e=c.value;k.show({message:`📚 Додано ${e} книг(у) в кошик`,backgroundColor:"#fff9e6",messageColor:"#000"})});oe.addEventListener("click",e=>{e.preventDefault(),k.show({message:"📖 Дякуємо за покупку!",backgroundColor:"#fff9e6",messageColor:"#000"})});const ne=document.querySelector(".contact-form"),se=document.querySelector(".events-list"),m=document.querySelector(".contact-modal-overlay"),V=document.body,re=document.querySelector(".close-btn"),ie=document.querySelector(".modal-paragraph");function N(e){e.target===m&&h()}se.addEventListener("click",ce);function ce(e){const t=e.target.closest(".events-btn");if(!t)return;const r=t.closest(".events-list-item").querySelector(".events-subtitle").textContent;ie.textContent=r,m.classList.add("is-open"),V.classList.add("menu-open"),window.addEventListener("keydown",j),m.addEventListener("click",N)}function j(e){(e.key==="Escape"||e.code==="Escape")&&h()}re.addEventListener("click",h);function h(){m.classList.remove("is-open"),V.classList.remove("menu-open"),window.removeEventListener("keydown",j),m.removeEventListener("click",N)}ne.addEventListener("submit",ae);function ae(e){e.preventDefault();const t=e.target;t.elements.name.value.trim(),t.elements.email.value.trim();const s=t.querySelectorAll("input"),r=t.querySelectorAll(".error-message");let o=!1;s.forEach(n=>n.classList.remove("error")),r.forEach(n=>{n.textContent="",n.classList.remove("show")}),s.forEach(n=>{if(n.value.trim()===""){n.classList.add("error");const i=n.nextElementSibling;i&&(i.textContent="Error text",i.classList.add("show")),o=!0}}),!o&&t.reset()}
//# sourceMappingURL=index.js.map
