import{S as q,N as x,P as M,K as P,i as y,A}from"./assets/vendor-D8K-ZL8z.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const E="https://books-backend.p.goit.global/books",j=document.getElementById("booksList"),w=document.getElementById("showMoreBtn"),O=document.getElementById("booksCount"),l=document.getElementById("categorySelect"),g=document.getElementById("categoriesList");let p=[],a=[],c=0;function T(){return window.innerWidth>=768?24:10}function N(){return 4}async function F(){try{const e=await fetch(`${E}/top-books`);if(!e.ok)throw new Error("Failed to load books");const o=await e.json();p=o.flatMap(s=>s.books.map(t=>({...t,category:s.list_name}))),a=[...p];const r=[...new Set(o.map(s=>s.list_name))];H(r),c=0,m()}catch(e){console.error("Error loading books:",e)}}function H(e){l&&(l.innerHTML='<option value="">All Categories</option>',l.innerHTML+=e.map(o=>`<option value="${o}">${o}</option>`).join("")),g&&(g.innerHTML=e.map(o=>`<li data-category="${o}">${o}</li>`).join(""))}function m(){const e=T(),o=N(),r=c===0?e:c+o,s=a.slice(0,r);j.innerHTML=s.map(t=>`
      <li class="book-card">
        <img class="book-image" src="${t.book_image}" alt="${t.title}" />
        <div class="book-info">
          <div>
            <h3 class="book-title">${t.title}</h3>
            <p class="book-author">${t.author}</p>
          </div>
          <p class="book-price">$${(Math.random()*90+10).toFixed(2)}</p>
        </div>
        <button class="learn-more-btn">Learn More</button>
      </li>`).join(""),c=s.length,O.textContent=`Showing ${c} of ${a.length}`,w.style.display=c<a.length?"block":"none"}w.addEventListener("click",m);function L(e){if(c=0,!e){a=[...p],m();return}U(e)}async function U(e){try{const o=await fetch(`${E}/category?category=${encodeURIComponent(e)}`);if(!o.ok)throw new Error("Failed to load category books");a=await o.json(),m()}catch(o){console.error("Error loading category books:",o)}}l.addEventListener("change",e=>{L(e.target.value)});g.addEventListener("click",e=>{if(e.target.tagName==="LI"){const o=e.target.getAttribute("data-category");document.querySelectorAll(".categories-list li").forEach(r=>r.classList.remove("active")),e.target.classList.add("active"),L(o)}});F();new q(".feedback-swiper",{modules:[x,M,P],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const V=document.querySelector(".burger-js"),f=document.querySelector(".header-menu"),k=document.body,_=document.querySelector(".close-js"),K=document.querySelectorAll(".header-nav-link");V.addEventListener("click",z);function z(){f.classList.add("active"),k.classList.add("menu-open"),window.addEventListener("keydown",I)}_.addEventListener("click",B);function B(){f.classList.remove("active"),k.classList.remove("menu-open"),window.removeEventListener("keydown",I)}K.forEach(e=>{e.addEventListener("click",()=>{f.classList.remove("active"),k.classList.remove("menu-open")})});function I(e){(e.key==="Escape"||e.code==="Escape")&&B()}y.settings({position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"});new A(".js-accordion",{duration:300});const u=document.getElementById("modal-backdrop"),D=document.getElementById("close-modal"),R=document.getElementById("add-to-cart"),W=document.getElementById("buy-now"),i=document.getElementById("quantity"),v=document.getElementById("increase"),h=document.getElementById("decrease");document.addEventListener("click",e=>{var o,r,s,t;if(e.target.classList.contains("learn-more-btn")){const n=e.target.closest(".book-card");if(n){const d=((o=n.querySelector(".book-image"))==null?void 0:o.src)||"",C=((r=n.querySelector(".book-title"))==null?void 0:r.textContent)||"Untitled",S=((s=n.querySelector(".book-author"))==null?void 0:s.textContent)||"Unknown",$=((t=n.querySelector(".book-price"))==null?void 0:t.textContent)||"$0.00";document.getElementById("book-image").src=d,document.getElementById("book-title").textContent=C,document.getElementById("book-author").textContent=S,document.getElementById("book-price").textContent=$,document.getElementById("details").textContent="This is a placeholder description for the book.",document.getElementById("shipping").textContent="Ships in 2‚Äì3 days.",document.getElementById("returns").textContent="30-day return policy.",u.classList.remove("is-hidden"),document.body.style.overflow="hidden"}}});function b(){u.classList.add("is-hidden"),document.body.style.overflow=""}D.addEventListener("click",b);u.addEventListener("click",e=>{e.target===u&&b()});document.addEventListener("keydown",e=>{e.key==="Escape"&&b()});v&&h&&i&&(v.addEventListener("click",()=>{i.value=parseInt(i.value)+1}),h.addEventListener("click",()=>{parseInt(i.value)>1&&(i.value=parseInt(i.value)-1)}));R.addEventListener("click",()=>{const e=i.value;y.show({message:`üìö –î–æ–¥–∞–Ω–æ ${e} –∫–Ω–∏–≥ —É –∫–æ—à–∏–∫`,backgroundColor:"#fff9e6",messageColor:"#000"})});W.addEventListener("click",e=>{e.preventDefault(),y.show({message:"üìñ –î—è–∫—É—î–º–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!",backgroundColor:"#fff9e6",messageColor:"#000"})});
//# sourceMappingURL=index.js.map
