import{a as M,S as E,N as k,P,K as T,A as G,i as w,b as J}from"./assets/vendor-BeNWam2W.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const A="https://books-backend.p.goit.global/books",Q=document.getElementById("booksList"),O=document.getElementById("showMoreBtn"),X=document.getElementById("booksCount"),p=document.getElementById("categorySelect"),u=document.getElementById("categoriesList");let b=[],a=[],c=0;function Y(){return window.innerWidth>=768?24:10}function Z(){return 4}async function ee(){try{const{data:e}=await M.get(`${A}/top-books`);b=e.flatMap(s=>s.books.map(n=>({...n,category:s.list_name}))),a=[...b];const t=[...new Set(e.map(s=>s.list_name))];te(t),c=0,y()}catch(e){console.error("Error loading books:",e)}}function te(e){if(p&&(p.innerHTML='<option value="">All Categories</option>',p.innerHTML+=e.map(t=>`<option value="${t}">${t}</option>`).join("")),u&&(u.innerHTML=e.map(t=>`<li data-category="${t}">${t}</li>`).join(""),!u.querySelector('[data-category="all"]'))){const t=document.createElement("li");t.classList.add("category-item"),t.dataset.category="all",t.textContent="All categories",u.prepend(t)}}function y(){const e=Y(),t=Z(),s=c===0?e:c+t,n=a.slice(0,s);Q.innerHTML=n.map(o=>`
      <li class="book-card">
        <img class="book-image" src="${o.book_image}" alt="${o.title}" />
        <div class="book-info">
          <div>
            <h3 class="book-title">${o.title}</h3>
            <p class="book-author">${o.author}</p>
          </div>
          <p class="book-price">$${(Math.random()*90+10).toFixed(2)}</p>
        </div>
        <button class="learn-more-btn">Learn More</button>
      </li>`).join(""),c=n.length,X.textContent=`Showing ${c} of ${a.length}`,O.style.display=c<a.length?"block":"none"}O.addEventListener("click",y);function V(e){if(c=0,!e||e==="all"){a=[...b],y();return}oe(e)}async function oe(e){try{const{data:t}=await M.get(`${A}/category`,{params:{category:e}});a=t,y()}catch(t){console.error("Error loading category books:",t)}}p.addEventListener("change",e=>{V(e.target.value)});u.addEventListener("click",e=>{if(e.target.tagName==="LI"){const t=e.target.getAttribute("data-category");document.querySelectorAll(".categories-list li").forEach(s=>s.classList.remove("active")),e.target.classList.add("active"),V(t)}});ee();let d;function N(){window.innerWidth<1440&&!d?d=new E(".events-swiper",{modules:[k,P,T],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24}}}):window.innerWidth>=1440&&d&&(d.destroy(!0,!0),d=null)}N();window.addEventListener("resize",N);new E(".feedback-swiper",{modules:[k,P,T],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const ne=document.querySelector(".burger-js"),L=document.querySelector(".header-menu"),h=document.body,se=document.querySelector(".close-js"),re=document.querySelectorAll(".header-nav-link");ne.addEventListener("click",ie);function ie(){L.classList.add("active"),h.classList.add("menu-open"),window.addEventListener("keydown",z)}se.addEventListener("click",j);function j(){L.classList.remove("active"),h.classList.remove("menu-open"),window.removeEventListener("keydown",z)}re.forEach(e=>{e.addEventListener("click",()=>{L.classList.remove("active"),h.classList.remove("menu-open")})});function z(e){(e.key==="Escape"||e.code==="Escape")&&j()}let v;function H(){v&&v.destroy(!0,!0),v=new E(".hero-slider",{modules:[k,G],slidesPerView:1,allowTouchMove:!0,loop:!1,autoplay:{delay:4e3,disableOnInteraction:!0},navigation:{nextEl:".slider-button.next",prevEl:".slider-button.prev",disabledClass:"slider-button--disabled"},on:{init(){I(this)},slideChange(){I(this)}}})}function I(e){const t=document.querySelector(".slider-button.prev"),s=document.querySelector(".slider-button.next");t.disabled=e.isBeginning,s.disabled=e.isEnd}window.addEventListener("load",H);let x;window.addEventListener("resize",()=>{clearTimeout(x),x=setTimeout(()=>{H()},300)});w.settings({position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"});new J(".js-accordion",{duration:300});const f=document.getElementById("modal-backdrop"),ce=document.getElementById("close-modal"),ae=document.getElementById("add-to-cart"),le=document.getElementById("buy-now"),i=document.getElementById("quantity"),q=document.getElementById("increase"),$=document.getElementById("decrease");document.addEventListener("click",e=>{var t,s,n,o;if(e.target.classList.contains("learn-more-btn")){const r=e.target.closest(".book-card");if(r){const l=((t=r.querySelector(".book-image"))==null?void 0:t.src)||"",W=((s=r.querySelector(".book-title"))==null?void 0:s.textContent)||"Untitled",F=((n=r.querySelector(".book-author"))==null?void 0:n.textContent)||"Unknown",R=((o=r.querySelector(".book-price"))==null?void 0:o.textContent)||"$0.00";document.getElementById("book-image").src=l,document.getElementById("book-title").textContent=W,document.getElementById("book-author").textContent=F,document.getElementById("book-price").textContent=R,document.getElementById("details").textContent="This is a placeholder description for the book.",document.getElementById("shipping").textContent="Ships in 2â€“3 days.",document.getElementById("returns").textContent="30-day return policy.",f.classList.remove("is-hidden"),document.body.style.overflow="hidden"}}});function B(){f.classList.add("is-hidden"),document.body.style.overflow=""}ce.addEventListener("click",B);f.addEventListener("click",e=>{e.target===f&&B()});document.addEventListener("keydown",e=>{e.key==="Escape"&&B()});q&&$&&i&&(q.addEventListener("click",()=>{i.value=parseInt(i.value)+1}),$.addEventListener("click",()=>{parseInt(i.value)>1&&(i.value=parseInt(i.value)-1)}));ae.addEventListener("click",()=>{const e=i.value;w.show({message:`ðŸ“š Ð”Ð¾Ð´Ð°Ð½Ð¾ ${e} ÐºÐ½Ð¸Ð³(Ñƒ) Ð² ÐºÐ¾ÑˆÐ¸Ðº`,backgroundColor:"#fff9e6",messageColor:"#000"})});le.addEventListener("click",e=>{e.preventDefault(),w.show({message:"ðŸ“– Ð”ÑÐºÑƒÑ”Ð¼Ð¾ Ð·Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÑƒ!",backgroundColor:"#fff9e6",messageColor:"#000"})});const C=document.querySelector(".contact-form"),de=document.querySelector(".events-list"),m=document.querySelector(".contact-modal-overlay"),_=document.body,g=C.querySelectorAll("input"),D=C.querySelectorAll(".error-message"),ue=document.querySelector(".close-btn"),me=document.querySelector(".modal-paragraph");function K(e){e.target===m&&S()}de.addEventListener("click",pe);function pe(e){const t=e.target.closest(".events-btn");if(!t)return;g.forEach(o=>o.classList.remove("error")),D.forEach(o=>{o.textContent="",o.classList.remove("show")});const n=t.closest(".events-list-item").querySelector(".events-subtitle").textContent;me.textContent=n,m.classList.add("is-open"),_.classList.add("menu-open"),window.addEventListener("keydown",U),m.addEventListener("click",K)}function U(e){(e.key==="Escape"||e.code==="Escape")&&S()}ue.addEventListener("click",S);function S(){g.forEach(e=>{e.value=""}),m.classList.remove("is-open"),_.classList.remove("menu-open"),window.removeEventListener("keydown",U),m.removeEventListener("click",K)}C.addEventListener("submit",fe);function fe(e){e.preventDefault();const t=e.target;t.elements.name.value.trim(),t.elements.email.value.trim();let s=!1;g.forEach(n=>n.classList.remove("error")),D.forEach(n=>{n.textContent="",n.classList.remove("show")}),g.forEach(n=>{if(n.value.trim()===""){n.classList.add("error");const o=n.nextElementSibling;o&&(o.textContent="Error text",o.classList.add("show")),s=!0}}),!s&&t.reset()}
//# sourceMappingURL=index.js.map
