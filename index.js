import{S as b,N as v,P as I,K as x,i as k,A as U}from"./assets/vendor-BOicE9ou.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const q="https://books-backend.p.goit.global/books",_=document.getElementById("booksList"),$=document.getElementById("showMoreBtn"),z=document.getElementById("booksCount"),p=document.getElementById("categorySelect"),u=document.getElementById("categoriesList");let y=[],l=[],a=0;function D(){return window.innerWidth>=768?24:10}function K(){return 4}async function W(){try{const e=await fetch(`${q}/top-books`);if(!e.ok)throw new Error("Failed to load books");const t=await e.json();y=t.flatMap(r=>r.books.map(o=>({...o,category:r.list_name}))),l=[...y];const s=[...new Set(t.map(r=>r.list_name))];R(s),a=0,g()}catch(e){console.error("Error loading books:",e)}}function R(e){if(p&&(p.innerHTML='<option value="">All Categories</option>',p.innerHTML+=e.map(t=>`<option value="${t}">${t}</option>`).join("")),u&&(u.innerHTML=e.map(t=>`<li data-category="${t}">${t}</li>`).join(""),!u.querySelector('[data-category="all"]'))){const t=document.createElement("li");t.classList.add("category-item"),t.dataset.category="all",t.textContent="All categories",u.prepend(t)}}function g(){const e=D(),t=K(),s=a===0?e:a+t,r=l.slice(0,s);_.innerHTML=r.map(o=>`
      <li class="book-card">
        <img class="book-image" src="${o.book_image}" alt="${o.title}" />
        <div class="book-info">
          <div>
            <h3 class="book-title">${o.title}</h3>
            <p class="book-author">${o.author}</p>
          </div>
          <p class="book-price">$${(Math.random()*90+10).toFixed(2)}</p>
        </div>
        <button class="learn-more-btn">Learn More</button>
      </li>`).join(""),a=r.length,z.textContent=`Showing ${a} of ${l.length}`,$.style.display=a<l.length?"block":"none"}$.addEventListener("click",g);function M(e){if(a=0,!e||e==="all"){l=[...y],g();return}G(e)}async function G(e){try{const t=await fetch(`${q}/category?category=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to load category books");l=await t.json(),g()}catch(t){console.error("Error loading category books:",t)}}p.addEventListener("change",e=>{M(e.target.value)});u.addEventListener("click",e=>{if(e.target.tagName==="LI"){const t=e.target.getAttribute("data-category");document.querySelectorAll(".categories-list li").forEach(s=>s.classList.remove("active")),e.target.classList.add("active"),M(t)}});W();let d;function P(){window.innerWidth<1440&&!d?d=new b(".events-swiper",{modules:[v,I,x],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24}}}):window.innerWidth>=1440&&d&&(d.destroy(!0,!0),d=null)}P();window.addEventListener("resize",P);new b(".feedback-swiper",{modules:[v,I,x],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const J=document.querySelector(".burger-js"),w=document.querySelector(".header-menu"),E=document.body,Q=document.querySelector(".close-js"),X=document.querySelectorAll(".header-nav-link");J.addEventListener("click",Y);function Y(){w.classList.add("active"),E.classList.add("menu-open"),window.addEventListener("keydown",T)}Q.addEventListener("click",A);function A(){w.classList.remove("active"),E.classList.remove("menu-open"),window.removeEventListener("keydown",T)}X.forEach(e=>{e.addEventListener("click",()=>{w.classList.remove("active"),E.classList.remove("menu-open")})});function T(e){(e.key==="Escape"||e.code==="Escape")&&A()}new b(".hero-slider",{modules:[v],slidesPerView:1,allowTouchMove:!0,loop:!1,navigation:{nextEl:".slider-button.next",prevEl:".slider-button.prev",disabledClass:"slider-button--disabled"},on:{init(){B(this)},slideChange(){B(this)}}});function B(e){const t=document.querySelector(".slider-button.prev"),s=document.querySelector(".slider-button.next");e.isBeginning?(t.disabled=!0,t.classList.add("slider-button--disabled")):(t.disabled=!1,t.classList.remove("slider-button--disabled")),e.isEnd?(s.disabled=!0,s.classList.add("slider-button--disabled")):(s.disabled=!1,s.classList.remove("slider-button--disabled"))}k.settings({position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"});new U(".js-accordion",{duration:300});const f=document.getElementById("modal-backdrop"),Z=document.getElementById("close-modal"),ee=document.getElementById("add-to-cart"),te=document.getElementById("buy-now"),c=document.getElementById("quantity"),C=document.getElementById("increase"),S=document.getElementById("decrease");document.addEventListener("click",e=>{var t,s,r,o;if(e.target.classList.contains("learn-more-btn")){const n=e.target.closest(".book-card");if(n){const i=((t=n.querySelector(".book-image"))==null?void 0:t.src)||"",N=((s=n.querySelector(".book-title"))==null?void 0:s.textContent)||"Untitled",F=((r=n.querySelector(".book-author"))==null?void 0:r.textContent)||"Unknown",H=((o=n.querySelector(".book-price"))==null?void 0:o.textContent)||"$0.00";document.getElementById("book-image").src=i,document.getElementById("book-title").textContent=N,document.getElementById("book-author").textContent=F,document.getElementById("book-price").textContent=H,document.getElementById("details").textContent="This is a placeholder description for the book.",document.getElementById("shipping").textContent="Ships in 2–3 days.",document.getElementById("returns").textContent="30-day return policy.",f.classList.remove("is-hidden"),document.body.style.overflow="hidden"}}});function L(){f.classList.add("is-hidden"),document.body.style.overflow=""}Z.addEventListener("click",L);f.addEventListener("click",e=>{e.target===f&&L()});document.addEventListener("keydown",e=>{e.key==="Escape"&&L()});C&&S&&c&&(C.addEventListener("click",()=>{c.value=parseInt(c.value)+1}),S.addEventListener("click",()=>{parseInt(c.value)>1&&(c.value=parseInt(c.value)-1)}));ee.addEventListener("click",()=>{const e=c.value;k.show({message:`📚 Додано ${e} книг(у) в кошик`,backgroundColor:"#fff9e6",messageColor:"#000"})});te.addEventListener("click",e=>{e.preventDefault(),k.show({message:"📖 Дякуємо за покупку!",backgroundColor:"#fff9e6",messageColor:"#000"})});const oe=document.querySelector(".contact-form"),ne=document.querySelector(".events-list"),m=document.querySelector(".contact-modal-overlay"),j=document.body,se=document.querySelector(".close-btn"),re=document.querySelector(".modal-paragraph");function O(e){e.target===m&&h()}ne.addEventListener("click",ie);function ie(e){const t=e.target.closest(".events-btn");if(!t)return;const r=t.closest(".events-list-item").querySelector(".events-subtitle").textContent;re.textContent=r,m.classList.add("is-open"),j.classList.add("menu-open"),window.addEventListener("keydown",V),m.addEventListener("click",O)}function V(e){(e.key==="Escape"||e.code==="Escape")&&h()}se.addEventListener("click",h);function h(){m.classList.remove("is-open"),j.classList.remove("menu-open"),window.removeEventListener("keydown",V),m.removeEventListener("click",O)}oe.addEventListener("submit",ce);function ce(e){e.preventDefault();const t=e.target;t.elements.name.value.trim(),t.elements.email.value.trim();const s=t.querySelectorAll("input"),r=t.querySelectorAll(".error-message");let o=!1;s.forEach(n=>n.classList.remove("error")),r.forEach(n=>{n.textContent="",n.classList.remove("show")}),s.forEach(n=>{if(n.value.trim()===""){n.classList.add("error");const i=n.nextElementSibling;i&&(i.textContent="Error text",i.classList.add("show")),o=!0}}),!o&&t.reset()}
//# sourceMappingURL=index.js.map
