import{S as B,N as C,P as $}from"./assets/vendor-CsU9es7_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const v="https://books-backend.p.goit.global/books",q=document.getElementById("booksList"),L=document.getElementById("showMoreBtn"),M=document.getElementById("booksCount"),u=document.getElementById("categorySelect"),l=document.getElementById("categoriesList");let f=[],a=[],i=0;function P(){return window.innerWidth>=768?24:10}function x(){return 4}async function A(){try{const e=await fetch(`${v}/top-books`);if(!e.ok)throw new Error("Failed to load books");const t=await e.json();f=t.flatMap(s=>s.books.map(o=>({...o,category:s.list_name}))),a=[...f];const r=[...new Set(t.map(s=>s.list_name))];I(r),i=0,m()}catch(e){console.error("Error loading books:",e)}}function I(e){if(u&&(u.innerHTML='<option value="">All Categories</option>',u.innerHTML+=e.map(t=>`<option value="${t}">${t}</option>`).join("")),l&&(l.innerHTML=e.map(t=>`<li data-category="${t}">${t}</li>`).join(""),!l.querySelector('[data-category="all"]'))){const t=document.createElement("li");t.classList.add("category-item"),t.dataset.category="all",t.textContent="All categories",l.prepend(t)}}function m(){const e=P(),t=x(),r=i===0?e:i+t,s=a.slice(0,r);q.innerHTML=s.map(o=>`
      <li class="book-card">
        <img class="book-image" src="${o.book_image}" alt="${o.title}" />
        <div class="book-info">
          <div>
            <h3 class="book-title">${o.title}</h3>
            <p class="book-author">${o.author}</p>
          </div>
          <p class="book-price">$${(Math.random()*90+10).toFixed(2)}</p>
        </div>
        <button class="learn-more-btn">Learn More</button>
      </li>`).join(""),i=s.length,M.textContent=`Showing ${i} of ${a.length}`,L.style.display=i<a.length?"block":"none"}L.addEventListener("click",m);function k(e){if(i=0,!e||e==="all"){a=[...f],m();return}j(e)}async function j(e){try{const t=await fetch(`${v}/category?category=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to load category books");a=await t.json(),m()}catch(t){console.error("Error loading category books:",t)}}u.addEventListener("change",e=>{k(e.target.value)});l.addEventListener("click",e=>{if(e.target.tagName==="LI"){const t=e.target.getAttribute("data-category");document.querySelectorAll(".categories-list li").forEach(r=>r.classList.remove("active")),e.target.classList.add("active"),k(t)}});A();new B(".feedback-swiper",{modules:[C,$],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const T=document.querySelector(".burger-js"),p=document.querySelector(".header-menu"),g=document.body,N=document.querySelector(".close-js"),O=document.querySelectorAll(".header-nav-link");T.addEventListener("click",F);function F(){p.classList.add("active"),g.classList.add("menu-open"),window.addEventListener("keydown",h)}N.addEventListener("click",b);function b(){p.classList.remove("active"),g.classList.remove("menu-open"),window.removeEventListener("keydown",h)}O.forEach(e=>{e.addEventListener("click",()=>{p.classList.remove("active"),g.classList.remove("menu-open")})});function h(e){(e.key==="Escape"||e.code==="Escape")&&b()}const H=document.querySelector(".contact-form"),_=document.querySelector(".events-list"),d=document.querySelector(".contact-modal-overlay"),E=document.body,V=document.querySelector(".close-btn"),z=document.querySelector(".modal-paragraph");function w(e){e.target===d&&y()}_.addEventListener("click",D);function D(e){const t=e.target.closest(".events-btn");if(!t)return;const s=t.closest(".events-list-item").querySelector(".events-subtitle").textContent;z.textContent=s,d.classList.add("is-open"),E.classList.add("menu-open"),window.addEventListener("keydown",S),d.addEventListener("click",w)}function S(e){(e.key==="Escape"||e.code==="Escape")&&y()}V.addEventListener("click",y);function y(){d.classList.remove("is-open"),E.classList.remove("menu-open"),window.removeEventListener("keydown",S),d.removeEventListener("click",w)}H.addEventListener("submit",K);function K(e){e.preventDefault();const t=e.target;t.elements.name.value.trim(),t.elements.email.value.trim();const r=t.querySelectorAll("input"),s=t.querySelectorAll(".error-message");let o=!1;r.forEach(n=>n.classList.remove("error")),s.forEach(n=>{n.textContent="",n.classList.remove("show")}),r.forEach(n=>{if(n.value.trim()===""){n.classList.add("error");const c=n.nextElementSibling;c&&(c.textContent="Error text",c.classList.add("show")),o=!0}}),!o&&t.reset()}
//# sourceMappingURL=index.js.map
