import{a as j,S as h,N as L,P as N,K as V,A as Z,i as B,b as ee}from"./assets/vendor-BeNWam2W.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const z="https://books-backend.p.goit.global/books",te=document.getElementById("booksList"),p=document.getElementById("showMoreBtn"),oe=document.getElementById("booksCount"),k=document.getElementById("categoriesList"),U=document.getElementById("customSelect"),ne=document.getElementById("customSelectBtn"),se=document.querySelector(".custom-select-text"),w=document.getElementById("customSelectOptions");let E=[],a=[],c=0;function re(){return window.innerWidth>=768?24:10}function ie(){return 4}async function ce(){try{const{data:e}=await j.get(`${z}/top-books`);E=e.flatMap(s=>s.books.map(n=>({...n,category:s.list_name}))),a=[...E];const t=[...new Set(e.map(s=>s.list_name))];ae(t),c=0,y()}catch(e){console.error("Error loading books:",e)}}function ae(e){w&&(w.innerHTML=`
      <li data-category="all">All categories</li>
      ${e.map(t=>`<li data-category="${t}">${t}</li>`).join("")}
    `),k&&(k.innerHTML=`
      <li data-category="all">All categories</li>
      ${e.map(t=>`<li data-category="${t}">${t}</li>`).join("")}
    `)}function y(){const e=re(),t=ie(),s=c===0?e:c+t,n=a.slice(0,s);te.innerHTML=n.map(o=>`
      <li class="book-card">
        <img class="book-image" src="${o.book_image}" alt="${o.title}" />
        <div class="book-info">
          <div>
            <h3 class="book-title">${o.title}</h3>
            <p class="book-author">${o.author}</p>
          </div>
          <p class="book-price">$${(Math.random()*90+10).toFixed(2)}</p>
        </div>
        <button class="learn-more-btn">Learn More</button>
      </li>`).join(""),c=n.length,oe.textContent=`Showing ${c} of ${a.length}`,p.style.display=c<a.length?"block":"none"}p.addEventListener("click",()=>{p.blur()});function D(e){if(c=0,!e||e==="all"){a=[...E],y();return}le(e)}async function le(e){try{const{data:t}=await j.get(`${z}/category`,{params:{category:e}});a=t,y()}catch(t){console.error("Error loading category books:",t)}}ne.addEventListener("click",()=>{U.classList.toggle("open")});w.addEventListener("click",e=>{if(e.target.tagName==="LI"){const t=e.target.getAttribute("data-category");se.textContent=e.target.textContent,U.classList.remove("open"),D(t)}});k.addEventListener("click",e=>{if(e.target.tagName==="LI"){const t=e.target.getAttribute("data-category");D(t),e.target.classList.add("pressed"),setTimeout(()=>e.target.classList.remove("pressed"),150)}});p.addEventListener("click",y);ce();let d;function F(){window.innerWidth<1440&&!d?d=new h(".events-swiper",{modules:[L,N,V],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".events-button-prev",prevEl:".events-button-next"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24}}}):window.innerWidth>=1440&&d&&(d.destroy(!0,!0),d=null)}F();window.addEventListener("resize",F);new h(".feedback-swiper",{modules:[L,N,V],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-nex",prevEl:".swiper-button-pre"},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const de=document.querySelector(".burger-js"),S=document.querySelector(".header-menu"),C=document.body,ue=document.querySelector(".close-js"),me=document.querySelectorAll(".header-nav-link");de.addEventListener("click",pe);function pe(){S.classList.add("active"),C.classList.add("menu-open"),window.addEventListener("keydown",_)}ue.addEventListener("click",W);function W(){S.classList.remove("active"),C.classList.remove("menu-open"),window.removeEventListener("keydown",_)}me.forEach(e=>{e.addEventListener("click",()=>{S.classList.remove("active"),C.classList.remove("menu-open")})});function _(e){(e.key==="Escape"||e.code==="Escape")&&W()}let v;function H(){v&&v.destroy(!0,!0),v=new h(".hero-slider",{modules:[L,Z],slidesPerView:1,allowTouchMove:!0,loop:!1,autoplay:{delay:4e3,disableOnInteraction:!0},navigation:{nextEl:".slider-button.next",prevEl:".slider-button.prev",disabledClass:"slider-button--disabled"},on:{init(){P(this)},slideChange(){P(this)}}})}function P(e){const t=document.querySelector(".slider-button.prev"),s=document.querySelector(".slider-button.next");t.disabled=e.isBeginning,s.disabled=e.isEnd}window.addEventListener("load",H);let T;window.addEventListener("resize",()=>{clearTimeout(T),T=setTimeout(()=>{H()},300)});B.settings({position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"});document.addEventListener("DOMContentLoaded",()=>{window.accordionInstance=new ee(".js-accordion",{duration:380,showMultiple:!0,collapse:!0}),document.querySelectorAll(".js-accordion .ac-panel").forEach(e=>{e.style.overflow="hidden",e.style.boxSizing="border-box"})});const g=document.getElementById("modal-backdrop"),ge=document.getElementById("close-modal"),fe=document.getElementById("add-to-cart"),ye=document.getElementById("buy-now"),i=document.getElementById("quantity"),A=document.getElementById("increase"),O=document.getElementById("decrease");document.addEventListener("click",async e=>{var t,s,n,o;if(e.target.classList.contains("learn-more-btn")){const r=e.target.closest(".book-card");if(!r)return;const l=((t=r.querySelector(".book-image"))==null?void 0:t.src)||"",J=((s=r.querySelector(".book-title"))==null?void 0:s.textContent)||"Untitled",Q=((n=r.querySelector(".book-author"))==null?void 0:n.textContent)||"Unknown",X=((o=r.querySelector(".book-price"))==null?void 0:o.textContent)||"$0.00",$=r.dataset.id;let M="Description not found";if($)try{const m=await fetch(`https://books-backend.p.goit.global/books/${$}`);if(m.ok){const b=await m.json();b.description&&b.description.trim()!==""&&(M=b.description)}}catch(m){console.error("Помилка при отриманні опису книги:",m)}document.getElementById("book-image").src=l,document.getElementById("book-title").textContent=J,document.getElementById("book-author").textContent=Q,document.getElementById("book-price").textContent=X,document.getElementById("details").textContent=M,document.getElementById("shipping").textContent="We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.",document.getElementById("returns").textContent="You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.",g.classList.remove("is-hidden"),document.body.style.overflow="hidden"}});function I(){g.classList.add("is-hidden"),document.body.style.overflow=""}ge.addEventListener("click",I);g.addEventListener("click",e=>{e.target===g&&I()});document.addEventListener("keydown",e=>{e.key==="Escape"&&I()});A&&O&&i&&(A.addEventListener("click",()=>{i.value=parseInt(i.value)+1}),O.addEventListener("click",()=>{parseInt(i.value)>1&&(i.value=parseInt(i.value)-1)}));function be(e,t,s,n){e=Math.abs(e);const o=e%10,r=e%100;return r>=11&&r<=19?n:o===1?t:o>=2&&o<=4?s:n}fe.addEventListener("click",()=>{const e=Number(i.value),t=be(e,"книгу","книги","книг"),s=`📚 Додано ${e} ${t} до кошика`;B.show({message:s,backgroundColor:"#fff9e6",messageColor:"#000"})});ye.addEventListener("click",e=>{e.preventDefault(),B.show({message:"📖 Дякуємо за покупку!",backgroundColor:"#fff9e6",messageColor:"#000"})});const x=document.querySelector(".contact-form"),ve=document.querySelector(".events-list"),u=document.querySelector(".contact-modal-overlay"),K=document.body,f=x.querySelectorAll("input"),R=x.querySelectorAll(".error-message"),ke=document.querySelector(".close-btn"),we=document.querySelector(".modal-paragraph");function Y(e){e.target===u&&q()}ve.addEventListener("click",Ee);function Ee(e){const t=e.target.closest(".events-btn");if(!t)return;f.forEach(o=>o.classList.remove("error")),R.forEach(o=>{o.textContent="",o.classList.remove("show")});const n=t.closest(".events-list-item").querySelector(".events-subtitle").textContent;we.textContent=n,u.classList.add("is-open"),K.classList.add("menu-open"),window.addEventListener("keydown",G),u.addEventListener("click",Y)}function G(e){(e.key==="Escape"||e.code==="Escape")&&q()}ke.addEventListener("click",q);function q(){f.forEach(e=>{e.value=""}),u.classList.remove("is-open"),K.classList.remove("menu-open"),window.removeEventListener("keydown",G),u.removeEventListener("click",Y)}x.addEventListener("submit",he);function he(e){e.preventDefault();const t=e.target;t.elements.name.value.trim(),t.elements.email.value.trim();let s=!1;f.forEach(n=>n.classList.remove("error")),R.forEach(n=>{n.textContent="",n.classList.remove("show")}),f.forEach(n=>{if(n.value.trim()===""){n.classList.add("error");const o=n.nextElementSibling;o&&(o.textContent="Error text",o.classList.add("show")),s=!0}}),!s&&t.reset()}
//# sourceMappingURL=index.js.map
