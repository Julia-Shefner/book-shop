import{a as q,S as v,N as k,P as $,K as M,i as E,A as W}from"./assets/vendor-4YDk74Kk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const P="https://books-backend.p.goit.global/books",F=document.getElementById("booksList"),A=document.getElementById("showMoreBtn"),R=document.getElementById("booksCount"),p=document.getElementById("categorySelect"),u=document.getElementById("categoriesList");let b=[],a=[],c=0;function G(){return window.innerWidth>=768?24:10}function J(){return 4}async function Q(){try{const{data:e}=await q.get(`${P}/top-books`);b=e.flatMap(n=>n.books.map(s=>({...s,category:n.list_name}))),a=[...b];const t=[...new Set(e.map(n=>n.list_name))];X(t),c=0,y()}catch(e){console.error("Error loading books:",e)}}function X(e){if(p&&(p.innerHTML='<option value="">All Categories</option>',p.innerHTML+=e.map(t=>`<option value="${t}">${t}</option>`).join("")),u&&(u.innerHTML=e.map(t=>`<li data-category="${t}">${t}</li>`).join(""),!u.querySelector('[data-category="all"]'))){const t=document.createElement("li");t.classList.add("category-item"),t.dataset.category="all",t.textContent="All categories",u.prepend(t)}}function y(){const e=G(),t=J(),n=c===0?e:c+t,s=a.slice(0,n);F.innerHTML=s.map(o=>`
      <li class="book-card">
        <img class="book-image" src="${o.book_image}" alt="${o.title}" />
        <div class="book-info">
          <div>
            <h3 class="book-title">${o.title}</h3>
            <p class="book-author">${o.author}</p>
          </div>
          <p class="book-price">$${(Math.random()*90+10).toFixed(2)}</p>
        </div>
        <button class="learn-more-btn">Learn More</button>
      </li>`).join(""),c=s.length,R.textContent=`Showing ${c} of ${a.length}`,A.style.display=c<a.length?"block":"none"}A.addEventListener("click",y);function T(e){if(c=0,!e||e==="all"){a=[...b],y();return}Y(e)}async function Y(e){try{const{data:t}=await q.get(`${P}/category`,{params:{category:e}});a=t,y()}catch(t){console.error("Error loading category books:",t)}}p.addEventListener("change",e=>{T(e.target.value)});u.addEventListener("click",e=>{if(e.target.tagName==="LI"){const t=e.target.getAttribute("data-category");document.querySelectorAll(".categories-list li").forEach(n=>n.classList.remove("active")),e.target.classList.add("active"),T(t)}});Q();let d;function O(){window.innerWidth<1440&&!d?d=new v(".events-swiper",{modules:[k,$,M],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24}}}):window.innerWidth>=1440&&d&&(d.destroy(!0,!0),d=null)}O();window.addEventListener("resize",O);new v(".feedback-swiper",{modules:[k,$,M],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const Z=document.querySelector(".burger-js"),w=document.querySelector(".header-menu"),L=document.body,ee=document.querySelector(".close-js"),te=document.querySelectorAll(".header-nav-link");Z.addEventListener("click",oe);function oe(){w.classList.add("active"),L.classList.add("menu-open"),window.addEventListener("keydown",N)}ee.addEventListener("click",V);function V(){w.classList.remove("active"),L.classList.remove("menu-open"),window.removeEventListener("keydown",N)}te.forEach(e=>{e.addEventListener("click",()=>{w.classList.remove("active"),L.classList.remove("menu-open")})});function N(e){(e.key==="Escape"||e.code==="Escape")&&V()}new v(".hero-slider",{modules:[k],slidesPerView:1,allowTouchMove:!0,loop:!1,navigation:{nextEl:".slider-button.next",prevEl:".slider-button.prev",disabledClass:"slider-button--disabled"},on:{init(){S(this)},slideChange(){S(this)}}});function S(e){const t=document.querySelector(".slider-button.prev"),n=document.querySelector(".slider-button.next");e.isBeginning?(t.disabled=!0,t.classList.add("slider-button--disabled")):(t.disabled=!1,t.classList.remove("slider-button--disabled")),e.isEnd?(n.disabled=!0,n.classList.add("slider-button--disabled")):(n.disabled=!1,n.classList.remove("slider-button--disabled"))}E.settings({position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"});new W(".js-accordion",{duration:300});const f=document.getElementById("modal-backdrop"),ne=document.getElementById("close-modal"),se=document.getElementById("add-to-cart"),re=document.getElementById("buy-now"),i=document.getElementById("quantity"),I=document.getElementById("increase"),x=document.getElementById("decrease");document.addEventListener("click",e=>{var t,n,s,o;if(e.target.classList.contains("learn-more-btn")){const r=e.target.closest(".book-card");if(r){const l=((t=r.querySelector(".book-image"))==null?void 0:t.src)||"",D=((n=r.querySelector(".book-title"))==null?void 0:n.textContent)||"Untitled",K=((s=r.querySelector(".book-author"))==null?void 0:s.textContent)||"Unknown",U=((o=r.querySelector(".book-price"))==null?void 0:o.textContent)||"$0.00";document.getElementById("book-image").src=l,document.getElementById("book-title").textContent=D,document.getElementById("book-author").textContent=K,document.getElementById("book-price").textContent=U,document.getElementById("details").textContent="This is a placeholder description for the book.",document.getElementById("shipping").textContent="Ships in 2–3 days.",document.getElementById("returns").textContent="30-day return policy.",f.classList.remove("is-hidden"),document.body.style.overflow="hidden"}}});function h(){f.classList.add("is-hidden"),document.body.style.overflow=""}ne.addEventListener("click",h);f.addEventListener("click",e=>{e.target===f&&h()});document.addEventListener("keydown",e=>{e.key==="Escape"&&h()});I&&x&&i&&(I.addEventListener("click",()=>{i.value=parseInt(i.value)+1}),x.addEventListener("click",()=>{parseInt(i.value)>1&&(i.value=parseInt(i.value)-1)}));se.addEventListener("click",()=>{const e=i.value;E.show({message:`📚 Додано ${e} книг(у) в кошик`,backgroundColor:"#fff9e6",messageColor:"#000"})});re.addEventListener("click",e=>{e.preventDefault(),E.show({message:"📖 Дякуємо за покупку!",backgroundColor:"#fff9e6",messageColor:"#000"})});const B=document.querySelector(".contact-form"),ie=document.querySelector(".events-list"),m=document.querySelector(".contact-modal-overlay"),j=document.body,g=B.querySelectorAll("input"),H=B.querySelectorAll(".error-message"),ce=document.querySelector(".close-btn"),ae=document.querySelector(".modal-paragraph");function _(e){e.target===m&&C()}ie.addEventListener("click",le);function le(e){const t=e.target.closest(".events-btn");if(!t)return;g.forEach(o=>o.classList.remove("error")),H.forEach(o=>{o.textContent="",o.classList.remove("show")});const s=t.closest(".events-list-item").querySelector(".events-subtitle").textContent;ae.textContent=s,m.classList.add("is-open"),j.classList.add("menu-open"),window.addEventListener("keydown",z),m.addEventListener("click",_)}function z(e){(e.key==="Escape"||e.code==="Escape")&&C()}ce.addEventListener("click",C);function C(){g.forEach(e=>{e.value=""}),m.classList.remove("is-open"),j.classList.remove("menu-open"),window.removeEventListener("keydown",z),m.removeEventListener("click",_)}B.addEventListener("submit",de);function de(e){e.preventDefault();const t=e.target;t.elements.name.value.trim(),t.elements.email.value.trim();let n=!1;g.forEach(s=>s.classList.remove("error")),H.forEach(s=>{s.textContent="",s.classList.remove("show")}),g.forEach(s=>{if(s.value.trim()===""){s.classList.add("error");const o=s.nextElementSibling;o&&(o.textContent="Error text",o.classList.add("show")),n=!0}}),!n&&t.reset()}
//# sourceMappingURL=index.js.map
